---
output: 
  github_document:
    toc: TRUE

---



<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  eval = F
)
```

# *README: Below, is readme that provides steps for building a package.  This readme acts as a checklist, and control document as functions used in package building are included. ğŸš§ âœ… *

# Part 0. Proposal

Proposing the {xxxx} package! ğŸ¦„ (typical package introduction write up; but actually aspirational)

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
<!-- badges: end -->


The goal of {xxxx} is to make ... easier.


Without the package, we live in this effort-ful world ğŸ‹:

```{r}


```

  
With the package, we'll live in a different world (ğŸ¦„ ğŸ¦„ ğŸ¦„) where the task is a snap ğŸ«°: 

Proposed API:

```

library(mypackage)

myfunction(mtcars)

```



# Part I. Work out functionality  âœ… 

Have some functions that you'd like to package up *like the below from Hester's 'note' example*


```{r myfunction}
myfunction <- function(x){
  
  x^2
  
}
```
# Try it out

```{r}
myfunction(5)
```

# Part II. Packaging and documentation  ğŸš§ âœ… 

## Phase 1. Minimal working package

### Created files for package archetecture. âœ… 


```{r, eval = F}
devtools::create(".")
```

### Moved functions R folder? âœ…  

```{r}
knitr::knit_code$get() |> names()
```

Use new {readme2pkg} function to do this from readme...

```{r, eval = F}
readme2pkg::chunk_to_r("myfunction")
```



### Added roxygen skeleton? âœ… 

Use a roxygen skeleton for auto documentation and making sure proposed functions are *exported*.

### Managed dependencies ? âœ… 

Package dependencies managed, i.e. `depend::function()` in proposed functions and declared in the DESCRIPTION

```{r}
usethis::use_package("ggplot2")
```



### Chosen a license? âœ… 


```{r}
usethis::use_mit_license()
```

### Run `devtools::check()` and addressed errors? âœ… 

```{r, results='hide', error=T}
devtools::check(pkg = ".")
```

### Build package ğŸš§ 

```{r}
devtools::build()
```

You need to do this before Part 0 in this document will work.

### Make aspirational part of readme real. ğŸš§ 

At this point, you could change eval chunk options to TRUE. You can remove  the ğŸ¦„ emoji and perhaps replace it with construction site if you are still uncertain of the API, and want to highlight that it is subject to change. 

### Add lifecycle badge (experimental)

```{r}
usethis::use_lifecycle_badge("experimental")
```


## Phase 2: Listen & iterate ğŸš§ 

Try to get feedback from experts on API, implementation, default decisions.  Is there already work that solves this problem? 


## Phase 3: Let things settle

### Settle on examples.  Put them in the roxygen skeleton and readme. ğŸš§ 

### Written formal tests of functions? ğŸš§ 


That would look like this...

```{r test_calc_frequency_works}
library(testthat)

test_that("calc frequency works", {
  expect_equal(calc_frequency("A", 0), 440)
  expect_equal(calc_frequency("A", -1), 220)
  
})
```


```{r}
readme2pkg::chunk_to_tests_testthat("test_calc_frequency_works")
```


### Have you worked added a description and author information in the DESCRIPTION file? ğŸš§ 

### Addressed *all* notes, warnings and errors. ğŸš§ 

## Promote to wider audience...

### Package website built? ğŸš§ 

### Package website deployed? ğŸš§ 

## Phase 3: Harden/commit

### Submit to CRAN? Or don't.  ğŸš§ 

# Appendix: Reports, Environment

## Description file extract

```{r}

```

## Environment

Here I just want to print the packages and the versions

```{r}
all <- sessionInfo() |> print() |> capture.output()
all[11:17]
```

## `devtools::check()` report

```{r, error = T, results="hide", warning=F}
devtools::check(pkg = ".")
```



## Non-developer introduction to package (and test of installed package)

The goal of the {xxx} package 

To install the dev version use the following:

```
remotes::install_github("owner/repo") # 
```  

## Example using package

```{r, eval = F}
library(mypackage)
myfunction(mtcars)
```


